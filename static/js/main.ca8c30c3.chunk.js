(this["webpackJsonpreact-meetup"]=this["webpackJsonpreact-meetup"]||[]).push([[0],{91:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(75),i=c.n(n),s=(c(91),c(7)),a=c(115),o=c(117),j=c(112),d=c(113),l=c(114),u=c(116),b=c(35),h=c(5),x=c(2),O=Object(r.createContext)({favorites:[],totalFavorites:0,addFavorite:function(e){},removeFavorite:function(e){},itemIsFavorite:function(e){}});function m(e){var t=Object(r.useState)([]),c=Object(h.a)(t,2),n=c[0],i=c[1];var s={favorites:n,totalFavorites:n.length,addFavorite:function(e){i((function(t){return t.concat(e)}))},removeFavorite:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsFavorite:function(e){return n.some((function(t){return t.id===e}))}};return Object(x.jsx)(O.Provider,{value:s,children:e.children})}var p=O;function f(){var e=Object(r.useContext)(p);return Object(x.jsx)(j.a,{bg:"pink.800",p:"4",as:"header",children:Object(x.jsxs)(d.a,{maxW:"container.xl",d:"flex",children:[Object(x.jsx)(l.a,{as:"h1",fontSize:"2xl",color:"white",children:"React Meetups"}),Object(x.jsx)(j.a,{as:"nav",ml:"auto",children:Object(x.jsxs)(a.b,{d:"flex",styleType:"none",children:[Object(x.jsx)(a.a,{children:Object(x.jsx)(u.a,{to:"/",as:b.b,color:"whiteAlpha.800",fontWeight:"bold",children:"All Meetups"})}),Object(x.jsx)(a.a,{children:Object(x.jsx)(u.a,{to:"/new-meetup",as:b.b,mx:"4",color:"whiteAlpha.800",fontWeight:"bold",children:"New Meetup"})}),Object(x.jsx)(a.a,{children:Object(x.jsxs)(u.a,{to:"/favorites",as:b.b,color:"whiteAlpha.800",fontWeight:"bold",children:["Favorites",Object(x.jsx)(o.a,{ml:"2",colorScheme:"pink",borderRadius:"md",children:e.totalFavorites})]})})]})})]})})}function v(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{}),Object(x.jsx)("main",{children:e.children})]})}var g=c(42),S=c(119),y=c(125),w=c(118),F=c(127);function M(e){return Object(x.jsx)(w.a,Object(g.a)(Object(g.a)({boxShadow:"md",rounded:"md",overflow:"hidden"},e),{},{children:e.children}))}var W=c(56),A=c(101);function I(e){var t=Object(r.useContext)(p),c=t.itemIsFavorite(e.id);return Object(x.jsx)(a.a,{children:Object(x.jsxs)(M,{m:"2",maxW:"xs",children:[Object(x.jsx)(w.a,{children:Object(x.jsx)(F.a,{src:e.image,alt:e.title})}),Object(x.jsxs)(w.a,{p:"4",children:[Object(x.jsx)(l.a,{as:"h3",fontSize:"2xl",children:e.title}),Object(x.jsx)(S.a,{as:"address",children:e.address}),Object(x.jsx)(S.a,{children:e.description})]}),Object(x.jsx)(w.a,{px:"4",pb:"4",children:Object(x.jsxs)(y.a,{onClick:function(){c?t.removeFavorite(e.id):t.addFavorite({id:e.id,title:e.title,description:e.description,image:e.image,address:e.address})},colorScheme:c?"gray":"pink",children:[c?"Remove from favorites":"Add to Favorites",Object(x.jsx)(A.b,{as:W.a,ml:"1"})]})})]})})}function R(e){return Object(x.jsx)(a.b,{styleType:"none",m:"0",d:"flex",children:e.meetups.map((function(e){return Object(x.jsx)(I,{id:e.id,image:e.image,title:e.title,description:e.description},e.id)}))})}function k(e){return Object(x.jsx)(w.a,{my:"4",mb:"6",children:e.children})}var E=function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)([]),s=Object(h.a)(i,2),a=s[0],o=s[1];return Object(r.useEffect)((function(){n(!0),function(){var e=localStorage.getItem("meetups");if(!e){var t=[{id:"a1",image:"https://source.unsplash.com/wn7dOzUh3Rs/320x280",title:"Initial Meetup",description:"This is the first meetup for the app"}];return localStorage.setItem("meetups",JSON.stringify(t)),new Promise((function(e){setTimeout((function(){e(t)}),2e3)}))}return new Promise((function(t){setTimeout((function(){t(JSON.parse(e))}),2e3)}))}().then((function(e){var t=Object.entries(e).map((function(e){return Object(g.a)({id:e[0]},e[1])}));o(t),n(!1)}))}),[]),c?Object(x.jsx)(d.a,{maxW:"container.xl",children:Object(x.jsx)(S.a,{mt:"6",children:"Loading..."})}):Object(x.jsxs)(d.a,{maxW:"container.xl",children:[Object(x.jsx)(k,{children:Object(x.jsx)(l.a,{as:"h2",children:"All Meetups"})}),Object(x.jsx)(R,{meetups:a})]})},C=c(126);var J=function(){var e,t=Object(r.useContext)(p);return e=0===t.totalFavorites?Object(x.jsxs)(C.a,{spacing:"3",mt:"4",bg:"blue.100",p:"4",rounded:"base",children:[Object(x.jsx)(A.b,{as:W.b,fontSize:"2xl",h:"10"}),Object(x.jsxs)(S.a,{fontWeight:"medium",marginEnd:"2",children:["You got not favorites yet. ",Object(x.jsx)("b",{children:"Start adding some?"})]})]}):Object(x.jsx)(R,{meetups:t.favorites}),Object(x.jsx)(d.a,{maxW:"container.xl",children:Object(x.jsxs)(k,{children:[Object(x.jsx)(l.a,{as:"h2",children:"My Favorites"}),e]})})},N=c(43),T=c(121),z=c(122),P=c(123);function q(e){var t=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)();return Object(x.jsx)("div",{children:Object(x.jsx)("form",{onSubmit:function(r){r.preventDefault();var s={title:t.current.value,image:c.current.value,address:n.current.value,description:i.current.value};console.log("form data!",s),e.onAddMeetup(s)},children:Object(x.jsxs)(M,{mx:"auto",p:"5",border:"1px",borderColor:"gray.200",children:[Object(x.jsxs)(N.a,{id:"title",mb:"4",children:[Object(x.jsx)(T.a,{children:"Meetup title"}),Object(x.jsx)(z.a,{type:"text",placeholder:"Enter the meetup title",ref:t})]}),Object(x.jsxs)(N.a,{id:"image",children:[Object(x.jsx)(T.a,{children:"Meetup image"}),Object(x.jsx)(z.a,{type:"url",required:!0,placeholder:"Enter the meetup image url",ref:c})]}),Object(x.jsxs)(N.a,{id:"address",mb:"4",children:[Object(x.jsx)(T.a,{children:"Meetup address"}),Object(x.jsx)(z.a,{type:"text",placeholder:"Enter the meetup address",ref:n})]}),Object(x.jsxs)(N.a,{id:"description",mb:"4",children:[Object(x.jsx)(T.a,{children:"Meetup description"}),Object(x.jsx)(P.a,{ref:i,placeholder:"Enter a meetup description",required:!0})]}),Object(x.jsx)(j.a,{justify:"flex-end",children:Object(x.jsx)(y.a,{colorScheme:"pink",type:"submit",children:"Add Meetup"})})]})})})}var B=function(){var e=Object(s.f)();return Object(x.jsx)("section",{children:Object(x.jsxs)(d.a,{maxW:"container.md",pt:"4",children:[Object(x.jsx)(k,{children:Object(x.jsx)(l.a,{as:"h2",children:"New Meetup"})}),Object(x.jsx)(q,{onAddMeetup:function(t){console.log({meetup:t}),function(e){var t=JSON.parse(localStorage.getItem("meetups"));return t.push(e),localStorage.setItem("meetups",JSON.stringify(t)),new Promise((function(e){setTimeout((function(){e(t)}),3e3)}))}(t).then((function(){e.replace("/")}))}})]})})};var D=function(){return Object(x.jsx)(v,{children:Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{path:"/",exact:!0,children:Object(x.jsx)(E,{})}),Object(x.jsx)(s.a,{path:"/new-meetup",children:Object(x.jsx)(B,{})}),Object(x.jsx)(s.a,{path:"/favorites",children:Object(x.jsx)(J,{})})]})})},L=c(124);i.a.render(Object(x.jsx)(L.a,{children:Object(x.jsx)(m,{children:Object(x.jsx)(b.a,{children:Object(x.jsx)(D,{})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.ca8c30c3.chunk.js.map