(this["webpackJsonpreact-meetup"]=this["webpackJsonpreact-meetup"]||[]).push([[0],{91:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(75),i=c.n(n),a=(c(91),c(7)),s=c(115),j=c(117),o=c(112),d=c(113),l=c(114),b=c(116),u=c(35),h=c(5),x=c(2),O=Object(r.createContext)({favorites:[],totalFavorites:0,addFavorite:function(e){},removeFavorite:function(e){},itemIsFavorite:function(e){}});function p(e){var t=Object(r.useState)([]),c=Object(h.a)(t,2),n=c[0],i=c[1];var a={favorites:n,totalFavorites:n.length,addFavorite:function(e){i((function(t){return t.concat(e)}))},removeFavorite:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsFavorite:function(e){return n.some((function(t){return t.id===e}))}};return Object(x.jsx)(O.Provider,{value:a,children:e.children})}var f=O;function m(){var e=Object(r.useContext)(f);return Object(x.jsx)(o.a,{bg:"pink.800",p:"4",as:"header",children:Object(x.jsxs)(d.a,{maxW:"container.xl",d:"flex",children:[Object(x.jsx)(l.a,{as:"h1",fontSize:"2xl",color:"white",children:"React Meetups"}),Object(x.jsx)(o.a,{as:"nav",ml:"auto",children:Object(x.jsxs)(s.b,{d:"flex",styleType:"none",children:[Object(x.jsx)(s.a,{children:Object(x.jsx)(b.a,{to:"/",as:u.b,color:"whiteAlpha.800",fontWeight:"bold",children:"All Meetups"})}),Object(x.jsx)(s.a,{children:Object(x.jsx)(b.a,{to:"/new-meetup",as:u.b,mx:"4",color:"whiteAlpha.800",fontWeight:"bold",children:"New Meetup"})}),Object(x.jsx)(s.a,{children:Object(x.jsxs)(b.a,{to:"/favorites",as:u.b,color:"whiteAlpha.800",fontWeight:"bold",children:["Favorites",Object(x.jsx)(j.a,{ml:"2",colorScheme:"pink",borderRadius:"md",children:e.totalFavorites})]})})]})})]})})}function v(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(m,{}),Object(x.jsx)("main",{children:e.children})]})}var g=c(42),y=c(119),F=c(125),S=c(118),M=c(127);function w(e){return Object(x.jsx)(S.a,Object(g.a)(Object(g.a)({boxShadow:"md",rounded:"md",overflow:"hidden"},e),{},{children:e.children}))}var W=c(56),A=c(101);function k(e){var t=Object(r.useContext)(f),c=t.itemIsFavorite(e.id);return Object(x.jsx)(s.a,{children:Object(x.jsxs)(w,{m:"2",maxW:"xs",children:[Object(x.jsx)(S.a,{children:Object(x.jsx)(M.a,{src:e.image,alt:e.title})}),Object(x.jsxs)(S.a,{p:"4",children:[Object(x.jsx)(l.a,{as:"h3",fontSize:"2xl",children:e.title}),Object(x.jsx)(y.a,{as:"address",children:e.address}),Object(x.jsx)(y.a,{children:e.description})]}),Object(x.jsx)(S.a,{px:"4",pb:"4",children:Object(x.jsxs)(F.a,{onClick:function(){c?t.removeFavorite(e.id):t.addFavorite({id:e.id,title:e.title,description:e.description,image:e.image,address:e.address})},colorScheme:c?"gray":"pink",children:[c?"Remove from favorites":"Add to Favorites",Object(x.jsx)(A.b,{as:W.a,ml:"1"})]})})]})})}function C(e){return Object(x.jsx)(s.b,{styleType:"none",m:"0",d:"flex",children:e.meetups.map((function(e){return Object(x.jsx)(k,{id:e.id,image:e.image,title:e.title,description:e.description},e.id)}))})}function E(e){return Object(x.jsx)(S.a,{my:"4",mb:"6",children:e.children})}var R=function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)([]),a=Object(h.a)(i,2),s=a[0],j=a[1];return Object(r.useEffect)((function(){n(!0),fetch("https://react-meetup-fe77a-default-rtdb.firebaseio.com/meetups.json").then((function(e){return e.json()})).then((function(e){var t=Object.entries(e).map((function(e){return Object(g.a)({id:e[0]},e[1])}));j(t),n(!1)}))}),[]),c?Object(x.jsx)(d.a,{maxW:"container.xl",children:Object(x.jsx)(y.a,{mt:"6",children:"Loading..."})}):Object(x.jsxs)(d.a,{maxW:"container.xl",children:[Object(x.jsx)(E,{children:Object(x.jsx)(l.a,{as:"h2",children:"All Meetups"})}),Object(x.jsx)(C,{meetups:s})]})},I=c(126);var T=function(){var e,t=Object(r.useContext)(f);return e=0===t.totalFavorites?Object(x.jsxs)(I.a,{spacing:"3",mt:"4",bg:"blue.100",p:"4",rounded:"base",children:[Object(x.jsx)(A.b,{as:W.b,fontSize:"2xl",h:"10"}),Object(x.jsxs)(y.a,{fontWeight:"medium",marginEnd:"2",children:["You got not favorites yet. ",Object(x.jsx)("b",{children:"Start adding some?"})]})]}):Object(x.jsx)(C,{meetups:t.favorites}),Object(x.jsx)(d.a,{maxW:"container.xl",children:Object(x.jsxs)(E,{children:[Object(x.jsx)(l.a,{as:"h2",children:"My Favorites"}),e]})})},z=c(43),J=c(121),N=c(122),q=c(123);function P(e){var t=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)();return Object(x.jsx)("div",{children:Object(x.jsx)("form",{onSubmit:function(r){r.preventDefault();var a={title:t.current.value,image:c.current.value,address:n.current.value,description:i.current.value};console.log("form data!",a),e.onAddMeetup(a)},children:Object(x.jsxs)(w,{mx:"auto",p:"5",border:"1px",borderColor:"gray.200",children:[Object(x.jsxs)(z.a,{id:"title",mb:"4",children:[Object(x.jsx)(J.a,{children:"Meetup title"}),Object(x.jsx)(N.a,{type:"text",placeholder:"Enter the meetup title",ref:t})]}),Object(x.jsxs)(z.a,{id:"image",children:[Object(x.jsx)(J.a,{children:"Meetup image"}),Object(x.jsx)(N.a,{type:"url",required:!0,placeholder:"Enter the meetup image url",ref:c})]}),Object(x.jsxs)(z.a,{id:"address",mb:"4",children:[Object(x.jsx)(J.a,{children:"Meetup address"}),Object(x.jsx)(N.a,{type:"text",placeholder:"Enter the meetup address",ref:n})]}),Object(x.jsxs)(z.a,{id:"description",mb:"4",children:[Object(x.jsx)(J.a,{children:"Meetup description"}),Object(x.jsx)(q.a,{ref:i,placeholder:"Enter a meetup description",required:!0})]}),Object(x.jsx)(o.a,{justify:"flex-end",children:Object(x.jsx)(F.a,{colorScheme:"pink",type:"submit",children:"Add Meetup"})})]})})})}var B=function(){var e=Object(a.f)();return Object(x.jsx)("section",{children:Object(x.jsxs)(d.a,{maxW:"container.md",pt:"4",children:[Object(x.jsx)(E,{children:Object(x.jsx)(l.a,{as:"h2",children:"New Meetup"})}),Object(x.jsx)(P,{onAddMeetup:function(t){console.log({meetup:t}),function(e){return fetch("https://react-meetup-fe77a-default-rtdb.firebaseio.com/meetups.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}(t).then((function(){e.replace("/")}))}})]})})};var D=function(){return Object(x.jsx)(v,{children:Object(x.jsxs)(a.c,{children:[Object(x.jsx)(a.a,{path:"/",exact:!0,children:Object(x.jsx)(R,{})}),Object(x.jsx)(a.a,{path:"/new-meetup",children:Object(x.jsx)(B,{})}),Object(x.jsx)(a.a,{path:"/favorites",children:Object(x.jsx)(T,{})})]})})},L=c(124);i.a.render(Object(x.jsx)(L.a,{children:Object(x.jsx)(p,{children:Object(x.jsx)(u.a,{children:Object(x.jsx)(D,{})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.44c142a5.chunk.js.map